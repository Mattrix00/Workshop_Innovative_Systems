library ieee;
use ieee.std_logic_1164.all;
use ieee.numeric_std.all;
use work.globals.all;

--// multiplier-adder

entity prod_sum is
  port(
    ck      : in  std_logic;
    rst     : in  std_logic;
    i_gamma : in  signed(7 downto 0);   --//Q2.6
    i_beta  : in  signed(7 downto 0);   --//Q2.6
    i_data  : in  signed(7 downto 0);   --//Q6.2
    o_data  : out signed(15 downto 0)   --//Q8.8
    );
end entity;

architecture beh of prod_sum is

  signal int_beta : signed(15 downto 0);
  signal int_prod : signed(15 downto 0);

begin

  --// align data from Q2.6 to Q8.8
  int_beta <= to_signed(to_integer(i_beta), int_beta'length)) sll 2;
  
  int_prod <= i_data * i_gamma;
  o_data   <= int_prod + int_beta;
  
end architecture;
